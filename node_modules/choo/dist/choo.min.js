(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.choo=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function choo(e){function t(e,t){function r(){return function(){}}t=t||{},c.start({subscriptions:!1,reducers:!1,effects:!1});var n=c.state({state:t}),o=i(f,h,r),a=o(e,n);return a.outerHTML||a.toString()}function r(){c.model(createLocationModel(e));var t=c.start(e);s=r._router=i(f,h,t);var n=c.state({state:{}}),o=s(n.location.pathname,n);return l=o,o}function n(e,t,r,n,o){d||(d=nanoraf(function(e,t){var r=s(e.location.pathname,e,t);l=yo.update(l,r)})),d(t,r)}function o(e,t){f=e,h=t}function a(e){c.model(e)}function u(e){c.use(e)}function i(t,r,n){function o(t,r){var o=n("view: "+t,!0);return function(t){return function(n){var u=a,i=a=xtend(n,{params:t});return e.freeze!==!1&&Object.freeze(i),r(i,u,o)}}}var a={};r||(r=t,t={}),t=mutate({thunk:"match"},t);var u=sheetRouter(t,r);return walk(u,o),u}e=e||{};var c=r._store=barracks(),s=r._router=null,f=null,l=null,h=null,d=null;return c.use({onStateChange:n}),c.use(e),r.toString=t,r.router=o,r.model=a,r.start=r,r.use=u,r}function createLocationModel(e){function t(e,t){return e}function r(t,r,n,o){var a=createLocation(r,t);e.history!==!1&&a.href!==r.href&&window.history.pushState({},null,a.href),n("location:update",a,o)}function n(e){var t={};return e.history!==!1&&(t.handleHistory=function(e,t){onHistoryChange(function(r){e("location:set",{pathname:r},t)})}),e.href!==!1&&(t.handleHref=function(e,t){onHref(function(r){e("location:set",{pathname:r},t)})}),t}return{namespace:"location",state:createLocation(),subscriptions:n(e),effects:{set:r},reducers:{update:t}}}var createLocation=require(10),onHistoryChange=require(11),sheetRouter=require(13),onHref=require(12),walk=require(17),mutate=require(19),barracks=require(3),nanoraf=require(8),xtend=require(18),yo=require(20);module.exports=choo},{10:10,11:11,12:12,13:13,17:17,18:18,19:19,20:20,3:3,8:8}],2:[function(require,module,exports){function applyHook(o,p,n,a,c,f){o.forEach(function(o){o(p,n,a,c,f)})}module.exports=applyHook},{}],3:[function(require,module,exports){function dispatcher(t){function n(t){t.onError&&i.push(wrapOnError(t.onError)),t.onAction&&u.push(t.onAction),t.onStateChange&&a.push(t.onStateChange)}function e(t){v.push(t)}function r(t){if(t=t||{},!t.state)return t.freeze===!1?xtend(y):Object.freeze(xtend(y));var n=function(){var n={},e={};return v.forEach(function(r){var o=r.namespace,a=r.state||{};o?(e[o]={},apply(o,a,e),e[o]=xtend(e[o],t.state[o])):apply(r.namespace,a,n)}),{v:xtend(y,xtend(t.state,e))}}();return"object"==typeof n?n.v:void 0}function o(t){function n(t,n){return function(r,o,a){function u(t){t=t||null,t&&applyHook(i,t,y,function(t){return function(n,r){r="undefined"==typeof r?null:r,e(n,r,t,f)}})}a||n||(a=o,o=null),o="undefined"==typeof o?null:o;var f=n?u:a;e(r,o,t,f)}}function e(t,e,r,o){setTimeout(function(){var i=!1,f=!1,s=xtend(y);u.length&&applyHook(u,e,y,t,r,n);var c=t;if(/:/.test(t)){var p=t.split(":"),l=p.shift();c=p.join(":")}var v=l?d[l]:d;if(v&&v[c]){if(l){var E=v[c](e,y[l]);s[l]=xtend(y[l],E)}else mutate(s,d[c](e,y));i=!0,a.length&&applyHook(a,e,s,y,c,n),y=s,o()}var x=l?h[l]:h;if(!i&&x&&x[c]){var b=n("effect: "+t);l?x[c](e,y[l],b,o):x[c](e,y,b,o),f=!0}if(!i&&!f)throw new Error("Could not find action "+c)},0)}return t=t||{},v.forEach(function(e){var r=e.namespace;!c&&e.state&&t.state!==!1&&apply(r,e.state,y),!f&&e.reducers&&t.reducers!==!1&&apply(r,e.reducers,d),!s&&e.effects&&t.effects!==!1&&apply(r,e.effects,h),!p&&e.subscriptions&&t.subscriptions!==!1&&apply(r,e.subscriptions,l,n,function(t){applyHook(i,t)})}),t.noState||(c=!0),t.noReducers||(f=!0),t.noEffects||(s=!0),t.noSubscriptions||(p=!0),i.length||i.push(wrapOnError(defaultOnError)),n}t=t||{};var a=[],u=[],i=[];n(t);var f=!1,s=!1,c=!1,p=!1,l=o._subscriptions={},d=o._reducers={},h=o._effects={},v=o._models=[],y={};return o.model=e,o.state=r,o.start=o,o.use=n,o}function apply(t,n,e,r,o){t&&!e[t]&&(e[t]={}),Object.keys(n).forEach(function(a){if(t?e[t][a]=n[a]:e[a]=n[a],r&&o){var u=r("subscription: "+(t?t+":"+a:a));n[a](u,o)}})}function defaultOnError(t){throw t}function wrapOnError(t){return function(n,e,r){n&&t(n,e,r)}}var mutate=require(19),xtend=require(18),applyHook=require(2);module.exports=dispatcher},{18:18,19:19,2:2}],4:[function(require,module,exports){},{}],5:[function(require,module,exports){(function(global){var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=require(4);if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{4:4}],6:[function(require,module,exports){(function(global){"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],7:[function(require,module,exports){function empty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function toElement(e){!range&&document.createRange&&(range=document.createRange(),range.selectNode(document.body));var t;return range&&range.createContextualFragment?t=range.createContextualFragment(e):(t=document.createElement("body"),t.innerHTML=e),t.childNodes[0]}function noop(){}function createElementNS(e,t){return t&&t!==XHTML?document.createElementNS(t,e):document.createElement(e)}function morphAttrs(e,t){var n,r,o,a,i,d,l=t.attributes;for(n=l.length-1;n>=0;n--)r=l[n],o=r.name,i=r.value,a=r.namespaceURI,a?(o=r.localName||o,d=e.getAttributeNS(a,o)):d=e.getAttribute(o),d!==i&&(a?e.setAttributeNS(a,o,i):e.setAttribute(o,i));for(l=e.attributes,n=l.length-1;n>=0;n--)r=l[n],r.specified!==!1&&(o=r.name,a=r.namespaceURI,hasAttributeNS(t,a,a?o=r.localName||o:o)||(a?e.removeAttributeNS(a,r.localName):e.removeAttribute(o)))}function moveChildren(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}function defaultGetNodeKey(e){return e.id}function morphdom(e,t,n){function r(e,t){var n=c(e);if(n?l[n]=e:t||p(e),e.nodeType===ELEMENT_NODE)for(var o=e.firstChild;o;)r(o,t||n),o=o.nextSibling}function o(e){if(e.nodeType===ELEMENT_NODE)for(var t=e.firstChild;t;)c(t)||(p(t),o(t)),t=t.nextSibling}function a(e,t,n){E(e)!==!1&&(t.removeChild(e),n?c(e)||(p(e),o(e)):r(e))}function i(e,t,n,r){var o=c(t);if(o&&delete l[o],!r){if(m(e,t)===!1)return;if(morphAttrs(e,t),s(e),h(e,t)===!1)return}if("TEXTAREA"!==e.nodeName){var d,E,v,T,A,g=t.firstChild,C=e.firstChild;e:for(;g;){for(v=g.nextSibling,d=c(g);C;){var y=c(C);if(E=C.nextSibling,!n&&y&&(A=u[y]))A.parentNode.replaceChild(C,A),i(C,A,n),C=E;else{var O=C.nodeType;if(O===g.nodeType){var M=!1;if(O===ELEMENT_NODE?(compareNodeNames(C,g)&&(y||d?d===y&&(M=!0):M=!0),M&&i(C,g,n)):O!==TEXT_NODE&&O!=COMMENT_NODE||(M=!0,C.nodeValue=g.nodeValue),M){g=v,C=E;continue e}}a(C,e,n),C=E}}d&&((T=l[d])?compareNodeNames(T,g)?(i(T,g,!0),g=T):(delete l[d],p(T)):u[d]=g),f(g)!==!1&&(e.appendChild(g),N(g)),g.nodeType===ELEMENT_NODE&&(d||g.firstChild)&&b.push(g),g=v,C=E}for(;C;)E=C.nextSibling,a(C,e,n),C=E}var S=specialElHandlers[e.nodeName];S&&S(e,t)}if(n||(n={}),"string"==typeof t)if("#document"===e.nodeName||"HTML"===e.nodeName){var d=t;t=document.createElement("html"),t.innerHTML=d}else t=toElement(t);var l={},u={},c=n.getNodeKey||defaultGetNodeKey,f=n.onBeforeNodeAdded||noop,N=n.onNodeAdded||noop,m=n.onBeforeElUpdated||n.onBeforeMorphEl||noop,s=n.onElUpdated||noop,E=n.onBeforeNodeDiscarded||noop,p=n.onNodeDiscarded||noop,h=n.onBeforeElChildrenUpdated||n.onBeforeMorphElChildren||noop,v=n.childrenOnly===!0,b=[],T=e,A=T.nodeType,g=t.nodeType;if(!v)if(A===ELEMENT_NODE)g===ELEMENT_NODE?compareNodeNames(e,t)||(p(e),T=moveChildren(e,createElementNS(t.nodeName,t.namespaceURI))):T=t;else if(A===TEXT_NODE||A===COMMENT_NODE){if(g===A)return T.nodeValue=t.nodeValue,T;T=t}if(T===t)p(e);else{i(T,t,!1,v);var C=function(e){for(var t=e.firstChild;t;){var n=t.nextSibling,r=c(t);if(r){var o=l[r];if(o&&compareNodeNames(t,o)){if(t.parentNode.replaceChild(o,t),i(o,t,!0),t=n,empty(l))return!1;continue}}t.nodeType===ELEMENT_NODE&&C(t),t=n}};if(!empty(l))e:for(;b.length;){var y=b;b=[];for(var O=0;O<y.length;O++)if(C(y[O])===!1)break e}for(var M in l)if(l.hasOwnProperty(M)){var S=l[M];p(S),o(S)}}return!v&&T!==e&&e.parentNode&&e.parentNode.replaceChild(T,e),T}var range,testEl="undefined"!=typeof document?document.body||document.createElement("div"):{},XHTML="http://www.w3.org/1999/xhtml",ELEMENT_NODE=1,TEXT_NODE=3,COMMENT_NODE=8,hasAttributeNS;hasAttributeNS=testEl.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:testEl.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return!!e.getAttributeNode(n)};var specialElHandlers={OPTION:function(e,t){e.selected=t.selected,e.selected?e.setAttribute("selected",""):e.removeAttribute("selected","")},INPUT:function(e,t){e.checked=t.checked,e.checked?e.setAttribute("checked",""):e.removeAttribute("checked"),e.value!==t.value&&(e.value=t.value),hasAttributeNS(t,null,"value")||e.removeAttribute("value"),e.disabled=t.disabled,e.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n),e.firstChild&&(e.firstChild.nodeValue=n)}},compareNodeNames=function(e,t){return e.nodeName===t.nodeName&&e.namespaceURI===t.namespaceURI};module.exports=morphdom},{}],8:[function(require,module,exports){function nanoraf(n,o){o||(o=window.requestAnimationFrame);var r=!1,u=!1,a=null;return function(i,l){null!==a||u||(u=!0,o(function(){u=!1,a&&(r=!0,n(a,l),r=!1,a=null)})),a=i}}var window=require(6);module.exports=nanoraf},{6:6}],9:[function(require,module,exports){function match(e){return e.trim().replace(/[\?|#].*$/,"").replace(/^(?:https?\:)\/\//,"").replace(/^(?:[\w+(?:-\w+)+.])+(?:[\:0-9]{4,5})?/,"").replace(/\/$/,"")}module.exports=match},{}],10:[function(require,module,exports){function createLocation(e,a){function r(e){var a=e.pathname;return e.hash&&(a+=e.hash),e.search&&(a+=e.search),a}function t(e){var a=document.createElement("a");return a.href=e,{href:a.pathname,search:a.search,hash:a.hash}}if(e){if("string"==typeof a){var n=t(a);return n.href=r(n),n}var h=xtend(e,a);return h.href=r(h),h}var c={pathname:document.location.pathname,search:document.location.search,hash:document.location.hash};return c.href=r(c),c}var document=require(5),xtend=require(18);module.exports=createLocation},{18:18,5:5}],11:[function(require,module,exports){function history(o){window.onpopstate=function(){o(document.location.href)}}var document=require(5),window=require(6);module.exports=history},{5:5,6:6}],12:[function(require,module,exports){function href(t){window.onclick=function(e){if(!(e.button&&0!==e.button||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)){var o=function t(e){if(e)return"a"!==e.localName?t(e.parentNode):void 0===e.href?t(e.parentNode):window.location.host!==e.host?t(e.parentNode):e}(e.target);if(o){var n=o.hasAttribute(noRoutingAttrName);if(!n){e.preventDefault();var r=o.href.replace(/#$/,"");t(r),window.history.pushState({},null,r)}}}}}var window=require(6);module.exports=href;var noRoutingAttrName="data-no-routing"},{6:6}],13:[function(require,module,exports){function sheetRouter(r,n){function t(n,t,a,i,f,c){return r.thunk===!1?e(pathname(n),t,a,i,f,c):n===o?u(t,a,i,f,c):(o=pathname(pathname(n)),(u=e(o))(t,a,i,f,c))}n||(n=r,r={});var a=r.default||"/404",e=wayfarer(a),u=null,o=null;return t._router=e,function n(t,a){if("string"==typeof t[0])var u=t[0].replace(/^\//,"");else var o=t[0];var i="function"==typeof t[1]?t[1]:null,f=Array.isArray(t[1])?t[1]:Array.isArray(t[2])?t[2]:null;if(o&&t.forEach(function(r){n(r,a)}),i){var c=u?a.concat(u).join("/"):a.length?a.join("/"):u,h=r.thunk===!1||"match"===r.thunk?i:thunkify(i);e.on(c,h)}Array.isArray(f)&&n(f,a.concat(u))}(n,[]),t}function thunkify(r){return function(n){return function(t,a,e,u,o){return r(n,t,a,e,u,o)}}}var pathname=require(9),wayfarer=require(14);module.exports=sheetRouter},{14:14,9:9}],14:[function(require,module,exports){function Wayfarer(r){function e(r,e){if(r=r||"/",e&&e._wayfarer&&e._trie)i.mount(r,e._trie.trie);else{var t=i.create(r);t.cb=e}return a}function a(r){var e=Array.prototype.slice.apply(arguments),a=i.match(r);if(a&&a.cb)return e[0]=a.params,a.cb.apply(null,e);var n=i.match(t);if(n&&n.cb)return e[0]=n.params,n.cb.apply(null,e);throw new Error("route '"+r+"' did not match")}if(!(this instanceof Wayfarer))return new Wayfarer(r);var t=(r||"").replace(/^\//,""),i=trie();return a._trie=i,a.emit=a,a.on=e,a._wayfarer=!0,a}var trie=require(15);module.exports=Wayfarer},{15:15}],15:[function(require,module,exports){function Trie(){return this instanceof Trie?void(this.trie={nodes:{}}):new Trie}var mutate=require(19),xtend=require(18);module.exports=Trie,Trie.prototype.create=function(e){var n=e.replace(/^\//,"").split("/");return function e(n,t,r){var o=r[n];if(void 0===o)return t;var i=null;return/^:/.test(o)?(t.nodes.$$?i=t.nodes.$$:(i={nodes:{}},t.nodes.$$=i),t.name=o.replace(/^:/,"")):t.nodes[o]?i=t.nodes[o]:(i={nodes:{}},t.nodes[o]=i),e(n+1,i,r)}(0,this.trie,n)},Trie.prototype.match=function(e){var n=e.replace(/^\//,"").split("/"),t={},r=function e(r,o){if(void 0!==o){var i=n[r];return void 0===i?o:o.nodes[i]?e(r+1,o.nodes[i]):o.name?(t[o.name]=i,e(r+1,o.nodes.$$)):e(r+1)}}(0,this.trie);if(r)return r=xtend(r),r.params=t,r},Trie.prototype.mount=function(e,n){var t=e.replace(/^\//,"").split("/"),r=null,o=null;if(1===t.length)o=t[0],r=this.create(o);else{var i=t.splice(0,t.length-1),s=i.join("/");o=t[0],r=this.create(s)}mutate(r.nodes,n.nodes),n.name&&(r.name=n.name),r.nodes[""]&&(Object.keys(r.nodes[""]).forEach(function(e){"nodes"!==e&&(r[e]=r.nodes[""][e])}),mutate(r.nodes,r.nodes[""].nodes),delete r.nodes[""].nodes)}},{18:18,19:19}],16:[function(require,module,exports){function walk(n,c){var e=n._trie;!function n(e,o){o.cb&&(o.cb=c(e,o.cb)),o.nodes&&!function(){var c=o.nodes;Object.keys(c).forEach(function(t){var a=c[t],r="$$"===t?e+"/:"+o.name:e+"/"+t;n(r,a)})}()}("",e.trie)}module.exports=walk},{}],17:[function(require,module,exports){function walkSheetRouter(e,r){return e=e._router,walk(e,r)}var walk=require(16);module.exports=walkSheetRouter},{16:16}],18:[function(require,module,exports){function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty},{}],19:[function(require,module,exports){function extend(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty},{}],20:[function(require,module,exports){var bel={},morphdom=require(7),defaultEvents=require(21);module.exports=bel,module.exports.update=function(e,o,r){function t(e,o){for(var t=r.events||defaultEvents,n=0;n<t.length;n++){var u=t[n];o[u]?e[u]=o[u]:e[u]&&(e[u]=void 0)}("INPUT"===e.nodeName&&"file"!==e.type||"TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&null===o.getAttribute("value")&&(o.value=e.value)}return r||(r={}),r.events!==!1&&(r.onBeforeMorphEl||(r.onBeforeMorphEl=t)),morphdom(e,o,r)}},{21:21,7:7}],21:[function(require,module,exports){module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"]},{}]},{},[1])(1)});